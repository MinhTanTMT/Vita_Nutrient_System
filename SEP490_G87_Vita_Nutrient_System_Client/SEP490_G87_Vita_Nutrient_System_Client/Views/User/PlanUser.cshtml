@model IEnumerable<SlotBranch>

<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Tailwind CSS Example</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@latest/dist/tailwind.min.css"
          rel="stylesheet" />

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="~/css/style3.css" rel="stylesheet" />
</head>
<body class="bg-gray-100 font-sans">
    <div class="container mx-auto p-4 px-8 pb-24">
        <!-- Nút ngày chỉnh sửa  -->
        <div class="mx-2 flex justify-end">
            <button class="edit_date_btn text-white font-bold py-2 px-4 rounded-md border">
                Ngày chỉnh sửa
            </button>
        </div>
        <!-- Header -->
        <div class="flex justify-start items-center mb-6 mt-2 gap-8">
            <div class="flex border border-gray-300 rounded-lg p-1">
                <button id="day-btn" class="day-btn w-full py-2 px-4 text-white rounded-md">
                    Ngày
                </button>
                <button id="week-btn"
                        class="w-full py-2 px-4 bg-white text-gray-700 rounded-md">
                    Tuần
                </button>
            </div>
            <div class="flex items-center space-x-4">
                <button>
                    <i class="fa-solid fa-chevron-left"></i>
                </button>
                <button class="bg-gray-100 p-2 rounded-full">
                    <i class="fa-regular fa-calendar"></i>
                </button>
                <button>
                    <i class="fa-solid fa-chevron-right"></i>
                </button>
            </div>
            <h1 class="text-xl font-bold">Hôm nay</h1>
        </div>
        <!-- Main Content -->
        <div class="flex space-x-6 relative min-h-screen">
            <!-- Left: Meals -->
            <div class="flex-1 space-y-6">
                <!-- Header Left -->
                <div class="flex justify-between">
                    <div class="flex gap-32">
                        <h2 class="text-lg font-bold">Bữa Ăn</h2>
                        <div class="flex gap-1">
                            <img src="~/icons/chart-pie.svg"
                                 alt="Pie chart"
                                 width="20px" />
                            <h6>1660 calo</h6>
                        </div>
                    </div>
                    <div class="flex gap-8">
                        <button onclick="event.preventDefault(); document.getElementById('refreshTheMeal').submit();">
                            <i class="fa-sharp fa-solid fa-rotate"></i>
                        </button>

                        <form asp-controller="User" asp-action="RefreshTheMeal" method="post" id="refreshTheMeal" style="display:none;">
                            <button type="submit">Logout</button>
                        </form>


                        <!-- NutChuyen-->

                        <button><i class="fa-solid fa-ellipsis-vertical"></i></button>
                    </div>
                </div>
                <!-- Meal Item  bua sang-->
                @foreach (var item in Model)
                {
                    <div class="meal-item rounded-2xl shadow p-4">

                        <div class="flex flex-row mb-2 justify-between items-center">
                            <div>
                                <h2 class="text-lg font-bold">@item.NameSlotOfTheDay</h2>
                                <div class="flex gap-2">
                                    <img src="~/icons/chart-pie.svg"
                                         alt="Pie chart"
                                         width="20px" />
                                    <p class="text-blue-500 font-semibold">2000 calo</p>
                                </div>
                            </div>

                            <div class="flex gap-8">
                                <button>
                                    <i class="fa-solid fa-backward"></i>
                                </button>
                                <button><i class="fa-solid fa-ellipsis-vertical"></i></button>
                            </div>
                        </div>

                        @foreach (var item2 in item.foodDataOfSlot)
                        {
                            <p style="margin-bottom: 10px;">---------</p>
                            @foreach (var item3 in item2.foodIdData)
                            {
                                <ul class="space-y-2 ml-4">
                                    <li class="flex items-center space-x-2 gap-4">
                                        <div class="flex items-center gap-3">
                                            <input type="checkbox" class="h-6 w-6" />
                                            <img src="~/images/@item3.Urlimage"
                                                 alt="meal"
                                                 class="rounded-lg w-18 h-16" />
                                        </div>
                                        <div class="flex flex-col">
                                            <span class="text-lg font-medium"> @item3.Name </span>
                                            <span>1 khẩu phần</span>
                                        </div>
                                    </li>
                                </ul>
                                <p style="margin-bottom: 3px;"/>
                            }
                            
                        }
                    </div>
                }
            </div>

            <!-- Right: Nutrition Info -->
            <div class="w-2/5 bg-white rounded-lg shadow p-4 h-full">
                <div class="flex flex-row justify-between">
                    <h3 class="text-lg font-bold mb-4">Dinh dưỡng</h3>
                    <div class="flex border border-gray-300 rounded-lg p-1">
                        <button id="day-btn"
                                class="day-btn w-full py-2 px-4 text-white rounded-md">
                            <i class="fa-solid fa-chart-pie"></i>
                        </button>
                        <button id="week-btn"
                                class="w-full py-2 px-4 bg-white text-gray-700 rounded-md">
                            <i class="fa-solid fa-chart-bar"></i>
                        </button>
                    </div>
                </div>
                <div class="mb-4 flex justify-center">
                    <!-- Pie chart placeholder -->
                    <canvas id="myChart" style="width: 300px !important; height: 300px !important"></canvas>

                </div>
                <div class="grid grid-cols-3 gap-4 p-4">
                    <div class="flex flex-col gap-1">
                        <p class="font-bold disabled text-white">Lượng calo</p>
                        <p class="font-bold">Lượng calo</p>
                        <div class="flex items-center">
                            <span class="inline-block w-3 h-3 rounded-full bg-yellow-500 mr-2"></span>
                            <span>Carbohydrate</span>
                        </div>
                        <div class="flex items-center">
                            <span class="inline-block w-3 h-3 rounded-full bg-blue-500 mr-2"></span>
                            <span>Chất béo</span>
                        </div>
                        <div class="flex items-center mb-5">
                            <span class="inline-block w-3 h-3 rounded-full bg-purple-500 mr-2"></span>
                            <span>Chất đạm</span>
                        </div>
                        <p>Chất xơ</p>
                        <p>Natri</p>
                        <p>Cholesterol</p>
                    </div>

                    <!-- Right Column -->
                    <div class="flex flex-col gap-1 text-right">
                        <p class="font-bold">Tổng số</p>
                        <p>1660</p>
                        <p>145.3 gam</p>
                        <p>75g</p>
                        <p class=" mb-5">116.2 gam</p>
                        <p>28g</p>
                        <p>4922mg</p>
                        <p>213mg</p>
                    </div>

                    <!-- Right Column (Mục tiêu) -->
                    <div class="flex flex-col gap-1 text-right">
                        <p class="font-bold">Mục tiêu</p>
                        <p>1664</p>
                        <p>16 - 208g</p>
                        <p>49 - 93g</p>
                        <p class=" mb-5">70 - 208g</p>
                        <p>25g</p>
                        <p>-</p>
                        <p>-</p>
                    </div>
                </div>
                <button class="mt-4 w-full bg-green-500 text-white py-2 rounded-2xl border border-black">
                    Thông tin dinh dưỡng chi tiết
                </button>
            </div>
            <div class="absolute bottom-24 -right-8">
                <img src="~/images/heart-gym-remove-bg.png" />
            </div>
        </div>
    </div>
</body>
<script src="~/js/mainPlanUser.js"></script>
</html>



